{"remainingRequest":"/Users/liujia/Documents/academy-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liujia/Documents/academy-admin/src/views/academy/course/save.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liujia/Documents/academy-admin/src/views/academy/course/save.vue","mtime":1621596083479},{"path":"/Users/liujia/Documents/academy-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liujia/Documents/academy-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liujia/Documents/academy-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liujia/Documents/academy-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBCQVNFX0FQSTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwgLy8g5o6l5Y+jQVBJ5Zyw5Z2ACiAgICAgIGltcG9ydEJ0bkRpc2FibGVkOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDngrnlh7vkuIrkvKDmjInpkq7lsIbmlofku7bkuIrkvKDliLDmjqXlj6PkuK0KICAgIHN1Ym1pdFVwbG9hZCgpIHsKICAgICAgdGhpcy5pbXBvcnRCdG5EaXNhYmxlZCA9IHRydWUKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAvLyDooajljZXmj5DkuqQKICAgICAgdGhpcy4kcmVmcy51cGxvYWQuc3VibWl0KCkKICAgIH0sCiAgICAvLyDkuIrkvKDmiJDlip8KICAgIGZpbGVVcGxvYWRTdWNjZXNzKCkgewogICAgICAvLyDmj5DnpLrkv6Hmga8KICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgIG1lc3NhZ2U6ICfor77nqIvliIbnsbvmt7vliqDmiJDlip8nCiAgICAgIH0pCiAgICAgIC8vIOi3s+i9rOivvueoi+WIhuexu+WIl+ihqAogICAgfSwKICAgIC8vIOS4iuS8oOWksei0pQogICAgZmlsZVVwbG9hZEVycm9yKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgIG1lc3NhZ2U6ICfor77nqIvliIbnsbvmt7vliqDlpLHotKUnCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["save.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"save.vue","sourceRoot":"src/views/academy/course","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form label-width=\"120px\">\n      <el-upload\n        ref=\"upload\"\n        class=\"upload-demo\"\n        name=\"file\"\n        accept=\".xlsx\"\n        :action=\"BASE_API+'teacher/addsubject'\"\n        :on-success=\"fileUploadSuccess\"\n        :on-error=\"fileUploadError\"\n        :auto-upload=\"false\"\n        :limit=\"1\"\n      >\n        <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n        <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUpload\">上传到服务器</el-button>\n        <div slot=\"tip\" class=\"el-upload__tip\">只能上传Excel文件，且不超过500kb</div>\n      </el-upload>\n    </el-form>\n  </div>\n</template>\n\n<script>\n\nexport default {\n\n  data() {\n    return {\n      BASE_API: process.env.VUE_APP_BASE_API, // 接口API地址\n      importBtnDisabled: false,\n      loading: false\n    }\n  },\n  created() {\n  },\n  methods: {\n    // 点击上传按钮将文件上传到接口中\n    submitUpload() {\n      this.importBtnDisabled = true\n      this.loading = true\n      // 表单提交\n      this.$refs.upload.submit()\n    },\n    // 上传成功\n    fileUploadSuccess() {\n      // 提示信息\n      this.loading = false\n      this.$message({\n        type: 'success',\n        message: '课程分类添加成功'\n      })\n      // 跳转课程分类列表\n    },\n    // 上传失败\n    fileUploadError() {\n      this.loading = false\n      this.$message({\n        type: 'error',\n        message: '课程分类添加失败'\n      })\n    }\n  }\n}\n</script>\n"]}]}